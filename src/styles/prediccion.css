/* Contenedor principal */
.mpi__container{
  font-family: Arial, sans-serif;
  background-color:#f8fafc;
  min-height:100vh;
  padding:20px;
}

/* Tarjetas base */
.mpi__card{
  background:#fff;
  border-radius:12px;
  padding:24px;
  box-shadow:0 1px 3px rgba(0,0,0,.1);
}
.mpi__card--header{ border-left:4px solid #3b82f6; margin-bottom:24px; }

.mpi__headerRow{ display:flex; align-items:center; gap:12px; margin-bottom:8px; }
.mpi__icon--primary{ color:#3b82f6; }
.mpi__title{ font-size:24px; font-weight:bold; color:#1f2937; margin:0; }
.mpi__subtitle{ color:#6b7280; margin:0; font-size:16px; }

/* Steps */
.mpi__steps{ display:flex; gap:12px; margin-bottom:24px; }
.mpi__btn{
  display:inline-flex; align-items:center; gap:8px;
  cursor:pointer; border-radius:8px; outline:none; border:none;
  transition:transform .2s, box-shadow .2s, background-color .2s, border-color .2s, color .2s;
}
.mpi__btn:hover{ transform:translateY(-1px); box-shadow:0 4px 8px rgba(0,0,0,.1); }

.mpi__btn--step{ padding:12px 24px; background:#e5e7eb; color:#6b7280; font-weight:500; }
.mpi__btn--stepActive{ background:#3b82f6; color:#fff; }
.mpi__btn--na{ cursor:not-allowed; }

/* Alert error */
.mpi__alertError{
  background:#fef2f2; border:1px solid #fecaca; border-radius:8px;
  padding:16px; margin-bottom:24px; display:flex; align-items:center; gap:8px;
}
.mpi__alertIcon{ color:#dc2626; }
.mpi__alertText{ color:#dc2626; font-weight:500; }

/* Títulos secciones */
.mpi__sectionTitle{
  display:flex; align-items:center; gap:8px;
  font-size:20px; font-weight:bold; color:#1f2937; margin:0 0 24px 0;
}

/* Grid campos */
.mpi__grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));
  gap:24px;
}
.mpi__fieldTitle{ font-size:16px; font-weight:600; color:#374151; margin:0 0 12px 0; }
.mpi__fieldTitle--icon{ display:flex; align-items:center; gap:8px; }
.mpi__fieldColumn{ display:flex; gap:12px; flex-direction:column; }

.mpi__label{
  display:block; font-size:14px; font-weight:500; color:#6b7280; margin-bottom:4px;
}
.mpi__input, .mpi__select{
  width:100%; padding:8px 12px; border:1px solid #d1d5db; border-radius:6px; font-size:14px; background:#fff;
}

/* Lista de unidades */
.mpi__scrollList{
  max-height:200px; overflow-y:auto; border:1px solid #d1d5db; border-radius:6px; padding:8px;
}
.mpi__unidadLabel{
  display:flex; align-items:center; gap:8px; padding:8px; cursor:pointer; border-radius:4px;
  transition:background-color .2s;
}
.mpi__unidadLabel:hover{ background:#f9fafb; }
.mpi__unidadNombre{ font-size:14px; font-weight:500; color:#374151; }
.mpi__unidadResidente{ font-size:12px; color:#6b7280; }
.mpi__checkbox{ accent-color:#3b82f6; }
.mpi__checkRow{ display:flex; align-items:center; gap:8px; cursor:pointer; }
.mpi__checkText{ font-size:14px; color:#374151; }

/* Ejecutar */
.mpi__runRow{ margin-top:32px; display:flex; justify-content:center; }
.mpi__btn--primary{ padding:12px 32px; background:#3b82f6; color:#fff; font-size:16px; font-weight:600; }
.mpi__btn--disabled{ background:#9ca3af !important; cursor:not-allowed !important; box-shadow:none !important; transform:none !important; }

/* Spinner */
@keyframes mpi-spin{ from{transform:rotate(0)} to{transform:rotate(360deg)} }
.mpi__spinner{
  width:16px; height:16px; border:2px solid transparent; border-top:2px solid #fff; border-radius:50%;
  animation:mpi-spin 1s linear infinite;
}

/* Resumen resultados */
.mpi__mb{ margin-bottom:24px; }
.mpi__cardTitle{ font-size:20px; font-weight:bold; color:#1f2937; margin:0 0 16px 0; }
.mpi__summaryGrid{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:16px;
}
.mpi__summaryCard{ padding:16px; background:#f9fafb; border-radius:8px; text-align:center; }
.mpi__summaryHead{ display:flex; align-items:center; justify-content:center; gap:8px; margin-bottom:8px; }
.mpi__summaryTitle{ font-size:18px; font-weight:600; }
.mpi__summaryCount{ font-size:32px; font-weight:bold; }
.mpi__summaryHint{ font-size:14px; color:#6b7280; }

/* Lista resultados / export */
.mpi__listHead{ display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
.mpi__listTitle{ font-size:18px; font-weight:600; color:#1f2937; margin:0; }
.mpi__exportBtns{ display:flex; gap:8px; }
.mpi__btn--pdf{ padding:8px 16px; background:#dc2626; color:#fff; border-radius:6px; font-size:14px; font-weight:500; }
.mpi__btn--excel{ padding:8px 16px; background:#059669; color:#fff; border-radius:6px; font-size:14px; font-weight:500; }

/* Tabla */
.mpi__tableWrap{ overflow-x:auto; }
.mpi__table{ width:100%; border-collapse:collapse; }
.mpi__theadRow{ background:#f9fafb; border-bottom:2px solid #e5e7eb; }
.mpi__th{
  padding:12px; text-align:left; font-size:14px; font-weight:600; color:#374151;
}
.mpi__th--center{ text-align:center; }
.mpi__tr{ border-bottom:1px solid #e5e7eb; background:#fff; }
.mpi__tr--alt{ background:#f9fafb; }
.mpi__table tr:hover{ background:#f3f4f6 !important; }
.mpi__td{ padding:12px; }
.mpi__td--center{ text-align:center; }

.mpi__name{ font-size:14px; font-weight:500; color:#374151; }
.mpi__sub{ font-size:12px; color:#6b7280; }

.mpi__risk{ display:flex; align-items:center; gap:8px; }
.mpi__riskText{ font-size:14px; font-weight:600; }

.mpi__prob{ display:flex; align-items:center; gap:8px; }
.mpi__bar{ width:60px; height:8px; background:#e5e7eb; border-radius:4px; overflow:hidden; }
.mpi__barInner{ height:100%; transition:width .3s ease; }
.mpi__probText{ font-size:14px; font-weight:500; color:#374151; }

.mpi__amount{ font-size:14px; font-weight:500; }
.mpi__amount--danger{ color:#dc2626; }
.mpi__amount--success{ color:#059669; }

.mpi__chip{
  font-size:12px; font-weight:500; color:#fff; padding:4px 8px; border-radius:12px;
}
.mpi__chip--danger{ background:#dc2626; }
.mpi__chip--warning{ background:#f59e0b; }
.mpi__chip--success{ background:#059669; }
.mpi__chip--great{ background:#16a34a; }

/* Acciones */
.mpi__actions{
  margin-top:24px; padding:16px; background:#f9fafb; border-radius:8px; border:1px solid #e5e7eb;
}
.mpi__actionsTitle{ font-size:16px; font-weight:600; color:#374151; margin:0 0 12px 0; }
.mpi__actionsRow{ display:flex; gap:12px; flex-wrap:wrap; }
.mpi__btn--actionGreen{ padding:10px 20px; background:#059669; color:#fff; border-radius:6px; font-size:14px; font-weight:500; }
.mpi__btn--actionPurple{ padding:10px 20px; background:#7c3aed; color:#fff; border-radius:6px; font-size:14px; font-weight:500; }
.mpi__actionsHint{ font-size:12px; color:#6b7280; margin-top:8px; margin-bottom:0; }

/* Botón primario pequeño */
.mpi__btn--primarySmall{
  padding:6px 12px; background:#3b82f6; color:#fff; border-radius:6px; font-size:12px; font-weight:500;
}

/* Modal */
.mpi__modalOverlay{
  position:fixed; inset:0; background:rgba(0,0,0,.5);
  display:flex; align-items:center; justify-content:center; z-index:1000; padding:20px;
}
.mpi__modal{
  background:#fff; border-radius:12px; max-width:600px; width:100%;
  max-height:80vh; overflow-y:auto; box-shadow:0 20px 25px -5px rgba(0,0,0,.1);
}
.mpi__modalHeader{ padding:24px; border-bottom:1px solid #e5e7eb; }
.mpi__modalHeaderRow{ display:flex; justify-content:space-between; align-items:center; }
.mpi__modalTitle{ font-size:20px; font-weight:bold; color:#1f2937; margin:0; }
.mpi__closeBtn{
  background:none; border:none; font-size:24px; cursor:pointer; color:#6b7280; padding:4px;
}
.mpi__modalSub{ color:#6b7280; margin-top:4px; margin-bottom:0; }
.mpi__modalBody{ padding:24px; }

/* Tarjeta de riesgo en modal */
.mpi__riskCard{ background:#f9fafb; border-radius:8px; padding:16px; margin-bottom:20px; }
.mpi__riskCardHead{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.mpi__riskTitle{ font-size:18px; font-weight:600; }
.mpi__riskPct{ font-size:24px; font-weight:bold; }
.mpi__riskStats{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:12px;
}
.mpi__statLabel{ font-size:12px; color:#6b7280; margin-bottom:2px; }
.mpi__statValue{ font-size:16px; font-weight:600; color:#374151; }
.mpi__statValue--danger{ color:#dc2626; }

/* Historial */
.mpi__historyTitle{ font-size:16px; font-weight:600; color:#374151; margin:0 0 12px 0; }
.mpi__historyList{ display:flex; flex-direction:column; gap:8px; }
.mpi__historyItem{
  display:flex; justify-content:space-between; align-items:center; padding:12px; border-radius:6px; border:1px solid;
}
.mpi__historyItem--ok{ background:#f0fdf4; border-color:#bbf7d0; }
.mpi__historyItem--bad{ background:#fef2f2; border-color:#fecaca; }
.mpi__historyMes{ font-size:14px; font-weight:500; color:#374151; }
.mpi__historyHint{ font-size:12px; color:#6b7280; }
.mpi__badge{ font-size:12px; font-weight:500; color:#fff; padding:4px 8px; border-radius:12px; }
.mpi__badge--ok{ background:#059669; }
.mpi__badge--bad{ background:#dc2626; }